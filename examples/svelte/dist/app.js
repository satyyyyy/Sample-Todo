var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function d(){return a(" ")}function f(){return a("")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}let $;function g(t){$=t}function x(){const t=function(){if(!$)throw new Error("Function called outside component initialization");return $}();return(e,n,{cancelable:o=!1}={})=>{const c=t.$$.callbacks[e];if(c){const l=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}(e,n,{cancelable:o});return c.slice().forEach((e=>{e.call(t,l)})),!l.defaultPrevented}return!0}}const v=[],y=[];let b=[];const k=[],w=Promise.resolve();let _=!1;function C(){_||(_=!0,w.then(I))}function E(t){b.push(t)}const A=new Set;let F=0;function I(){if(0!==F)return;const t=$;do{try{for(;F<v.length;){const t=v[F];F++,g(t),M(t.$$)}}catch(t){throw v.length=0,F=0,t}for(g(null),v.length=0,F=0;y.length;)y.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];A.has(e)||(A.add(e),e())}b.length=0}while(v.length);for(;k.length;)k.pop()();_=!1,A.clear(),g(t)}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const S=new Set;let N;function O(){N={r:0,c:[],p:N}}function j(){N.r||o(N.c),N=N.p}function L(t,e){t&&t.i&&(S.delete(t),t.i(e))}function q(t,e,n,o){if(t&&t.o){if(S.has(t))return;S.add(t),N.c.push((()=>{S.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function P(t){return void 0!==t?.length?t:Array.from(t)}function T(t,e){q(t,1,1,(()=>{e.delete(t.key)}))}function z(t){t&&t.c()}function B(t,n,l){const{fragment:r,after_update:i}=t.$$;r&&r.m(n,l),E((()=>{const n=t.$$.on_mount.map(e).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(E)}function W(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];b.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),b=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(e,c,l,r,i,s,a,d=[-1]){const f=$;g(e);const p=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:c.target||f.$$.root};a&&a(p.root);let m=!1;if(p.ctx=l?l(e,c.props||{},((t,n,...o)=>{const c=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=c)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](c),m&&function(t,e){-1===t.$$.dirty[0]&&(v.push(t),C(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!r&&r(p.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();c.intro&&L(e.$$.fragment),B(e,c.target,c.anchor),I()}g(f)}class G{$$=void 0;$$set=void 0;$destroy(){W(this,1),this.$destroy=t}$on(e,n){if(!c(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function H(e){let n,o,c,l,a,f;return{c(){n=s("header"),o=s("h1"),o.textContent="todos",c=d(),l=s("input"),m(l,"class","new-todo"),m(l,"placeholder","What needs to be done?"),l.autofocus=!0,m(n,"class","header")},m(t,u){i(t,n,u),r(n,o),r(n,c),r(n,l),l.focus(),a||(f=p(l,"keydown",e[0]),a=!0)},p:t,i:t,o:t,d(t){t&&u(n),a=!1,f()}}}function J(t){const e=x();return[function(t){"Enter"===t.key&&(e("addItem",{text:t.target.value}),t.target.value="")}]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class K extends G{constructor(t){super(),D(this,t,J,H,l,{})}}function Q(e){let n,o,c;return{c(){n=s("button"),n.textContent="Clear completed",m(n,"class","clear-completed")},m(t,l){i(t,n,l),o||(c=p(n,"click",e[3]),o=!0)},p:t,d(t){t&&u(n),o=!1,c()}}}function R(e){let n,o,c,l,f,p,$,g,x,v,y,b,k,w,_,C,E,A,F,I,M,S,N,O,j=1===e[0]?"item":"items",L=e[2]&&Q(e);return{c(){n=s("footer"),o=s("span"),c=s("strong"),l=a(e[0]),f=d(),p=a(j),$=a(" left"),g=d(),x=s("ul"),v=s("li"),y=s("a"),b=a("All"),w=d(),_=s("li"),C=s("a"),E=a("Active"),F=d(),I=s("li"),M=s("a"),S=a("Completed"),O=d(),L&&L.c(),m(o,"class","todo-count"),m(y,"class",k="all"===e[1]?"selected":""),m(y,"href","#/"),m(C,"class",A="active"===e[1]?"selected":""),m(C,"href","#/active"),m(M,"class",N="completed"===e[1]?"selected":""),m(M,"href","#/completed"),m(x,"class","filters"),m(n,"class","footer")},m(t,e){i(t,n,e),r(n,o),r(o,c),r(c,l),r(o,f),r(o,p),r(o,$),r(n,g),r(n,x),r(x,v),r(v,y),r(y,b),r(x,w),r(x,_),r(_,C),r(C,E),r(x,F),r(x,I),r(I,M),r(M,S),r(n,O),L&&L.m(n,null)},p(t,[e]){1&e&&h(l,t[0]),1&e&&j!==(j=1===t[0]?"item":"items")&&h(p,j),2&e&&k!==(k="all"===t[1]?"selected":"")&&m(y,"class",k),2&e&&A!==(A="active"===t[1]?"selected":"")&&m(C,"class",A),2&e&&N!==(N="completed"===t[1]?"selected":"")&&m(M,"class",N),t[2]?L?L.p(t,e):(L=Q(t),L.c(),L.m(n,null)):L&&(L.d(1),L=null)},i:t,o:t,d(t){t&&u(n),L&&L.d()}}}function U(t,e,n){let{numActive:o}=e,{currentFilter:c}=e,{numCompleted:l}=e;const r=x();return t.$$set=t=>{"numActive"in t&&n(0,o=t.numActive),"currentFilter"in t&&n(1,c=t.currentFilter),"numCompleted"in t&&n(2,l=t.numCompleted)},[o,c,l,function(t){r("removeCompletedItems")}]}class V extends G{constructor(t){super(),D(this,t,U,R,l,{numActive:0,currentFilter:1,numCompleted:2})}}function X(e){let n,l,a,f,h,$,g;return{c(){n=s("div"),l=s("input"),f=d(),h=s("label"),h.textContent="Edit Todo Input",l.value=a=e[0].description,m(l,"id","edit-todo-input"),m(l,"class","edit"),m(h,"class","visually-hidden"),m(h,"for","edit-todo-input"),m(n,"class","input-container")},m(o,u){var s;i(o,n,u),r(n,l),r(n,f),r(n,h),$||(g=[p(l,"keydown",e[4]),p(l,"blur",e[5]),(s=e[6].call(null,l),s&&c(s.destroy)?s.destroy:t)],$=!0)},p(t,e){1&e&&a!==(a=t[0].description)&&l.value!==a&&(l.value=a)},d(t){t&&u(n),$=!1,o(g)}}}function Y(e){let n,c,l,f,$,g,x,v,y,b,k,w,_,C=e[0].description+"",E=e[1]&&X(e);return{c(){n=s("li"),c=s("div"),l=s("input"),$=d(),g=s("label"),x=a(C),v=d(),y=s("button"),b=d(),E&&E.c(),m(l,"class","toggle"),m(l,"type","checkbox"),l.checked=f=e[0].completed,m(y,"class","destroy"),m(c,"class","view"),m(n,"class",k=(e[0].completed?" completed":"")+(e[1]?" editing":""))},m(t,o){i(t,n,o),r(n,c),r(c,l),r(c,$),r(c,g),r(g,x),r(c,v),r(c,y),r(n,b),E&&E.m(n,null),w||(_=[p(l,"change",e[7]),p(g,"dblclick",e[3]),p(y,"click",e[2])],w=!0)},p(t,[e]){1&e&&f!==(f=t[0].completed)&&(l.checked=f),1&e&&C!==(C=t[0].description+"")&&h(x,C),t[1]?E?E.p(t,e):(E=X(t),E.c(),E.m(n,null)):E&&(E.d(1),E=null),3&e&&k!==(k=(t[0].completed?" completed":"")+(t[1]?" editing":""))&&m(n,"class",k)},i:t,o:t,d(t){t&&u(n),E&&E.d(),w=!1,o(_)}}}function Z(t,e,n){let{item:o}=e,c=!1;const l=x();function r(){l("removeItem")}return t.$$set=t=>{"item"in t&&n(0,o=t.item)},[o,c,r,function(){n(1,c=!0)},function(t){"Enter"===t.key?t.target.blur():"Escape"===t.key&&n(1,c=!1)},function(t){if(!c)return;const{value:e}=t.target;e.length?n(0,o.description=e,o):r(),n(1,c=!1)},async function(t){await(C(),w),t.focus()},t=>n(0,o.completed=t.target.checked,o)]}class tt extends G{constructor(t){super(),D(this,t,Z,Y,l,{item:0})}}function et(t,e,n){const o=t.slice();return o[11]=e[n],o[12]=e,o[13]=n,o}function nt(t){let e,n,c,l,a,f,h,$,g,x,v,y,b,k=[],w=new Map,_=P(t[4]);const C=t=>t[11].id;for(let e=0;e<_.length;e+=1){let n=et(t,_,e),o=C(n);w.set(o,k[e]=ot(o,n))}return x=new V({props:{numActive:t[3],currentFilter:t[0],numCompleted:t[2]}}),x.$on("removeCompletedItems",t[8]),{c(){e=s("main"),n=s("div"),c=s("input"),a=d(),f=s("label"),f.textContent="Mark all as complete",h=d(),$=s("ul");for(let t=0;t<k.length;t+=1)k[t].c();g=d(),z(x.$$.fragment),m(c,"id","toggle-all"),m(c,"class","toggle-all"),m(c,"type","checkbox"),c.checked=l=t[2]===t[1].length,m(f,"for","toggle-all"),m(n,"class","toggle-all-container"),m($,"class","todo-list"),m(e,"class","main")},m(o,l){i(o,e,l),r(e,n),r(n,c),r(n,a),r(n,f),r(e,h),r(e,$);for(let t=0;t<k.length;t+=1)k[t]&&k[t].m($,null);r(e,g),B(x,e,null),v=!0,y||(b=p(c,"change",t[7]),y=!0)},p(t,e){(!v||6&e&&l!==(l=t[2]===t[1].length))&&(c.checked=l),80&e&&(_=P(t[4]),O(),k=function(t,e,n,c,l,r,i,u,s,a,d,f){let p=t.length,m=r.length,h=p;const $={};for(;h--;)$[t[h].key]=h;const g=[],x=new Map,v=new Map,y=[];for(h=m;h--;){const t=f(l,r,h),o=n(t);let u=i.get(o);u?c&&y.push((()=>u.p(t,e))):(u=a(o,t),u.c()),x.set(o,g[h]=u),o in $&&v.set(o,Math.abs(h-$[o]))}const b=new Set,k=new Set;function w(t){L(t,1),t.m(u,d),i.set(t.key,t),d=t.first,m--}for(;p&&m;){const e=g[m-1],n=t[p-1],o=e.key,c=n.key;e===n?(d=e.first,p--,m--):x.has(c)?!i.has(o)||b.has(o)?w(e):k.has(c)?p--:v.get(o)>v.get(c)?(k.add(o),w(e)):(b.add(c),p--):(s(n,i),p--)}for(;p--;){const e=t[p];x.has(e.key)||s(e,i)}for(;m;)w(g[m-1]);return o(y),g}(k,e,C,1,t,_,w,$,T,ot,null,et),j());const n={};8&e&&(n.numActive=t[3]),1&e&&(n.currentFilter=t[0]),4&e&&(n.numCompleted=t[2]),x.$set(n)},i(t){if(!v){for(let t=0;t<_.length;t+=1)L(k[t]);L(x.$$.fragment,t),v=!0}},o(t){for(let t=0;t<k.length;t+=1)q(k[t]);q(x.$$.fragment,t),v=!1},d(t){t&&u(e);for(let t=0;t<k.length;t+=1)k[t].d();W(x),y=!1,b()}}}function ot(t,e){let n,o,c,l;function r(t){e[9](t,e[11],e[12],e[13])}let s={editing:lt,index:e[13]};return void 0!==e[11]&&(s.item=e[11]),o=new tt({props:s}),y.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(o,"item",r))),o.$on("removeItem",(function(){return e[10](e[13])})),{key:t,first:null,c(){n=f(),z(o.$$.fragment),this.first=n},m(t,e){i(t,n,e),B(o,t,e),l=!0},p(t,n){e=t;const l={};var r;16&n&&(l.index=e[13]),!c&&16&n&&(c=!0,l.item=e[11],r=()=>c=!1,k.push(r)),o.$set(l)},i(t){l||(L(o.$$.fragment,t),l=!0)},o(t){q(o.$$.fragment,t),l=!1},d(t){t&&u(n),W(o,t)}}}function ct(t){let e,n,o,c;e=new K({}),e.$on("addItem",t[5]);let l=t[1].length>0&&nt(t);return{c(){z(e.$$.fragment),n=d(),l&&l.c(),o=f()},m(t,r){B(e,t,r),i(t,n,r),l&&l.m(t,r),i(t,o,r),c=!0},p(t,[e]){t[1].length>0?l?(l.p(t,e),2&e&&L(l,1)):(l=nt(t),l.c(),L(l,1),l.m(o.parentNode,o)):l&&(O(),q(l,1,1,(()=>{l=null})),j())},i(t){c||(L(e.$$.fragment,t),L(l),c=!0)},o(t){q(e.$$.fragment,t),q(l),c=!1},d(t){t&&(u(n),u(o)),W(e,t),l&&l.d(t)}}}let lt=null;function rt(t,e,n){let o,c,l,r="all",i=[];function u(t){i.splice(t,1),n(1,i)}(function(t){let e="all";function n(){switch(window.location.hash){case"#/active":e="active";break;case"#/completed":e="completed";break;default:e="all"}t(e)}return{init:function(){window.addEventListener("hashchange",n)}}})((t=>n(0,r=t))).init();return t.$$.update=()=>{3&t.$$.dirty&&n(4,o="all"===r?i:"completed"===r?i.filter((t=>t.completed)):i.filter((t=>!t.completed))),2&t.$$.dirty&&n(3,c=i.filter((t=>!t.completed)).length),2&t.$$.dirty&&n(2,l=i.filter((t=>t.completed)).length)},[r,i,l,c,o,function(t){i.push({id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),description:t.detail.text,completed:!1}),n(1,i)},u,function(t){const e=t.target.checked;n(1,i=i.map((t=>({...t,completed:e}))))},function(){n(1,i=i.filter((t=>!t.completed)))},function(t,e,c,l){c[l]=t,n(4,o),n(0,r),n(1,i)},t=>u(t)]}return new class extends G{constructor(t){super(),D(this,t,rt,ct,l,{})}}({target:document.querySelector(".todoapp")})}();
//# sourceMappingURL=app.js.map
