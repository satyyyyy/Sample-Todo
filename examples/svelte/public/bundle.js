(function(){function y(a){a.parentNode.removeChild(a)}function I(a,d,b){for(b=b||0;b<a.length;b+=1)a[b].a(d)}function l(a){return document.createElement(a)}function m(a){return document.createTextNode(a)}function R(){}function F(a){for(var d=arguments,b=1;b<arguments.length;b+=1){var c=d[b],g;for(g in c)a[g]=c[g]}return a}function J(a,d){return a!==d||a&&"object"===typeof a||"function"===typeof a}function K(a,d,b,c){for(var g in d)if(g in b){var n=b[g],e=c[g];if(n!==e||"object"===typeof n){var h=
d[g];if(h)for(var k=0;k<h.length;k+=1){var f=h[k];f.u||(f.u=!0,f.call(a,n,e),f.u=!1)}}}}function L(a,d,b,c){if(c||"items"in d&&J(a.items,b.items))a.i=d.i=q.G.i(a.items);if(c||"items"in d&&J(a.items,b.items))a.j=d.j=q.G.j(a.items)}function S(a,d){var b=l("header");b.className="header";var c=l("h1");b.appendChild(c);c.appendChild(m("todos"));b.appendChild(m("\n\t"));var g=l("input");d.B.s=g;g.className="new-todo";var n=q.D.H.call(d,g,function(){d.s(this.value)}.bind(g));g.placeholder="What needs to be done?";
g.autofocus=!0;b.appendChild(g);var e=m("\n\n"),h=document.createComment(""),k=0<a.items.length?M:null,f=k&&k(a,d);return{b:function(a,c){a.insertBefore(b,c);a.insertBefore(e,c);a.insertBefore(h,c);f&&f.b(h.parentNode,h)},update:function(a,c){var b=k;k=0<c.items.length?M:null;b===k&&f?f.update(a,c):(f&&f.a(!0),(f=k&&k(c,d))&&f.b(h.parentNode,h))},a:function(a){d.B.s===g&&(d.B.s=null);n.a();f&&f.a(a);a&&(y(b),y(e),y(h))}}}function M(a,d){function b(){d.U(this.checked)}var c=l("section");c.className=
"main";var g=l("input");g.className="toggle-all";g.type="checkbox";g.addEventListener("change",b,!1);var n=a.j===a.items.length;g.checked=n;c.appendChild(g);c.appendChild(m("\n\t\t"));var e=l("label");e.htmlFor="toggle-all";c.appendChild(e);e.appendChild(m("Mark all as complete"));c.appendChild(m("\n\n\t\t"));e=l("ul");e.className="todo-list";c.appendChild(e);var h=document.createComment("");e.appendChild(h);for(var e=a.items,k=[],f=0;f<e.length;f+=1)k[f]=N(a,e,e[f],f,d),k[f].b(h.parentNode,h);c.appendChild(m("\n\n\t\t"));
e=l("footer");e.className="footer";c.appendChild(e);f=l("span");f.className="todo-count";e.appendChild(f);var p=l("strong");f.appendChild(p);var G=a.i,v=m(G);p.appendChild(v);f.appendChild(m(" "));var q=1===a.i?"item":"items",A=m(q);f.appendChild(A);f.appendChild(m(" left"));e.appendChild(m("\n\n\t\t\t"));f=l("ul");f.className="filters";e.appendChild(f);p=l("li");f.appendChild(p);var t=l("a"),w="all"===a.h?"selected":"";t.className=w;t.href="#/";p.appendChild(t);t.appendChild(m("All"));f.appendChild(m("\n\t\t\t\t"));
p=l("li");f.appendChild(p);var u=l("a"),r="active"===a.h?"selected":"";u.className=r;u.href="#/active";p.appendChild(u);u.appendChild(m("Active"));f.appendChild(m("\n\t\t\t\t"));p=l("li");f.appendChild(p);var B=l("a"),D="completed"===a.h?"selected":"";B.className=D;B.href="#/completed";p.appendChild(B);B.appendChild(m("Completed"));e.appendChild(m("\n\n\t\t\t"));var C=document.createComment("");e.appendChild(C);var z=a.j?O:null,x=z&&z(a,d);x&&x.b(C.parentNode,C);return{b:function(a,b){a.insertBefore(c,
b)},update:function(a,c){var b;(b=c.j===c.items.length)!==n&&(n=b,g.checked=n);b=c.items;for(var e=0;e<b.length;e+=1)k[e]?k[e].update(a,c,b,b[e],e):(k[e]=N(c,b,b[e],e,d),k[e].b(h.parentNode,h));I(k,!0,b.length);k.length=b.length;(b=c.i)!==G&&(v.data=G=b);(b=1===c.i?"item":"items")!==q&&(A.data=q=b);(b="all"===c.h?"selected":"")!==w&&(w=b,t.className=w);(b="active"===c.h?"selected":"")!==r&&(r=b,u.className=r);(b="completed"===c.h?"selected":"")!==D&&(D=b,B.className=D);b=z;z=c.j?O:null;b===z&&x?x.update(a,
c):(x&&x.a(!0),(x=z&&z(c,d))&&x.b(C.parentNode,C))},a:function(a){g.removeEventListener("change",b,!1);I(k,!1);x&&x.a(!1);a&&y(c)}}}function O(a,d){function b(){d.O()}var c=l("button");c.className="clear-completed";c.addEventListener("click",b,!1);c.appendChild(m("Clear completed"));return{b:function(a,b){a.insertBefore(c,b)},update:R,a:function(a){c.removeEventListener("click",b,!1);a&&y(c)}}}function N(a,d,b,c,g){var n=document.createComment(""),e=q.I.filter(b,a.h)?P:null,h=e&&e(a,d,b,c,g);return{b:function(a,
b){a.insertBefore(n,b);h&&h.b(n.parentNode,n)},update:function(a,b,c,d,l){var f=e;e=q.I.filter(d,b.h)?P:null;f===e&&h?h.update(a,b,c,d,l):(h&&h.a(!0),(h=e&&e(b,c,d,l,g))&&h.b(n.parentNode,n))},a:function(a){h&&h.a(a);a&&y(n)}}}function P(a,d,b,c,g){function n(){q=!0;this.c.l[this.c.index].g=p.checked;g.F({items:g.get("items")});q=!1}function e(){g.P(this.c.index)}function h(){g.remove(this.c.index)}var k=l("li");k.className=""+(b.g?"completed":"")+" "+(a.m===c?"editing":"");var f=l("div");f.className=
"view";k.appendChild(f);var p=l("input");p.className="toggle";p.type="checkbox";var q=!1;p.addEventListener("change",n,!1);p.c={l:d,index:c};f.appendChild(p);p.checked=b.g;f.appendChild(m("\n\t\t\t\t\t\t\t"));var v=l("label");v.addEventListener("dblclick",e,!1);v.c={l:d,index:c};f.appendChild(v);var H=b.description,A=m(H);v.appendChild(A);f.appendChild(m("\n\t\t\t\t\t\t\t"));var t=l("button");t.addEventListener("click",h,!1);t.className="destroy";t.c={l:d,index:c};f.appendChild(t);k.appendChild(m("\n\n\t\t\t\t\t\t"));
var w=document.createComment("");k.appendChild(w);var u=a.m===c?Q:null,r=u&&u(a,d,b,c,g);r&&r.b(w.parentNode,w);return{b:function(a,b){a.insertBefore(k,b)},update:function(a,b,c,e,d){var f;k.className=""+(e.g?"completed":"")+" "+(b.m===d?"editing":"");q||(p.checked=e.g);p.c.l=c;p.c.index=d;v.c.l=c;v.c.index=d;(f=e.description)!==H&&(A.data=H=f);t.c.l=c;t.c.index=d;f=u;u=b.m===d?Q:null;f===u&&r?r.update(a,b,c,e,d):(r&&r.a(!0),(r=u&&u(b,c,e,d,g))&&r.b(w.parentNode,w))},a:function(a){p.removeEventListener("change",
n,!1);v.removeEventListener("dblclick",e,!1);t.removeEventListener("click",h,!1);r&&r.a(!1);a&&y(k)}}}function Q(a,d,b,c,g){function n(){g.submit(this.value)}var e=l("input"),h=b.description;e.value=h;e.id="edit";e.className="edit";var k=q.D.H.call(g,e,function(){g.blur(this)}.bind(e));e.addEventListener("blur",n,!1);var f=q.D.escape.call(g,e,function(){g.cancel()}.bind(e));e.autofocus=!0;e.focus();return{b:function(a,b){a.insertBefore(e,b)},update:function(a,b,c,d){(a=d.description)!==h&&(h=a,e.value=
h)},a:function(a){k.a();e.removeEventListener("blur",n,!1);f.a();a&&y(e)}}}function E(a){a=a||{};this.B={};this.f=F(q.data(),a.data);L(this.f,this.f,{},!0);this.w={L:Object.create(null),K:Object.create(null)};this.v=Object.create(null);this.A=a.A;this.N=a.N;this.o=S(this.f,this);a.target&&this.o.b(a.target,null);a.A?a.A.C.push({S:q.J,context:this}):q.J.call(this)}var q=function(){function a(a){return function(b,d){function c(b){b.which===a&&d.call(this,b)}b.addEventListener("keydown",c,!1);return{a:function(){b.removeEventListener("keydown",
c,!1)}}}}var d;try{d=JSON.parse(localStorage.getItem("todos-svelte"))||[]}catch(b){d=[]}return{data:function(){return{h:"all",items:d}},G:{i:function(a){return a.filter(function(a){return!a.g}).length},j:function(a){return a.filter(function(a){return a.g}).length}},I:{filter:function(a,c){if("all"===c)return!0;if("completed"===c)return a.g;if("active"===c)return!a.g}},J:function(){function a(){var a="all";"#/active"===window.location.hash?a="active":"#/completed"===window.location.hash&&(a="completed");
c.set({h:a})}var c=this;window.addEventListener("hashchange",a);a()},methods:{blur:function(a){a.blur()},cancel:function(){this.set({m:null})},O:function(){var a=this.get("items").filter(function(a){return!a.g});this.set({items:a});localStorage.setItem("todos-svelte",JSON.stringify(a))},P:function(a){this.set({m:a})},s:function(a){var b=this.get("items");b.push({description:a,g:!1});this.set({items:b});localStorage.setItem("todos-svelte",JSON.stringify(b));this.B.s.value=""},remove:function(a){var b=
this.get("items");b.splice(a,1);this.set({items:b});localStorage.setItem("todos-svelte",JSON.stringify(b))},submit:function(a){var b=this.get("items"),d=this.get("editing");b[d].description=a;this.set({items:b,m:null});localStorage.setItem("todos-svelte",JSON.stringify(b))},U:function(a){var b=this.get("items");b.forEach(function(b){b.g=a});this.set({items:b});localStorage.setItem("todos-svelte",JSON.stringify(b))}},D:{H:a(13),escape:a(27)}}}();F(E.prototype,q.methods,{get:function(a){return a?this.f[a]:
this.f},R:function(a,d){if(a=a in this.v&&this.v[a].slice())for(var b=0;b<a.length;b+=1)a[b].call(this,d)},observe:function(a,d,b){var c=b&&b.defer?this.w.L:this.w.K;(c[a]||(c[a]=[])).push(d);b&&!1===b.W||(d.u=!0,d.call(this,this.f[a]),d.u=!1);return{cancel:function(){var b=c[a].indexOf(d);~b&&c[a].splice(b,1)}}},T:function(a,d){if("teardown"===a)return this.T("destroy",d);var b=this.v[a]||(this.v[a]=[]);b.push(d);return{cancel:function(){var a=b.indexOf(d);~a&&b.splice(a,1)}}},set:function(a){this.F(a);
(this.A||this).M()},M:function(){if(this.C)for(;this.C.length;){var a=this.C.pop();a.S.call(a.context)}}});E.prototype.F=function(a){var d=this.f;this.f=F({},d,a);L(this.f,a,d,!1);K(this,this.w.L,a,d);this.o&&this.o.update(a,this.f);K(this,this.w.K,a,d)};E.prototype.a=function(a){this.R("destroy");this.o.a(!1!==a);this.o=null;this.f={}};window.V=new E({target:document.querySelector(".todoapp")})})();
//# sourceMappingURL=bundle.js.map
